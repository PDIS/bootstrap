.button-text {
  @extend .label-text;
  padding: 0.375rem 0.875rem;
  border-radius: 0.5rem;

  &:hover {
    color: var(--on-background);
    background-color: var(--surface);
  }

  &:focus{
    box-shadow: none;
  }
  
  &:focus-visible, &:active {
    color: var(--on-background);
    background-color: var(--surface-1);
    box-shadow: 0 0 0 2px var(--brand-flat-strong) inset;
    border-color: var(--brand-flat-strong);
  }

  i {
    margin-left: 0.25rem;
    margin-right: 0.25rem;
    font-size: 1.125rem;
    font-weight: 500;

    &:first-child {
      margin-left: 0;
    }

    &:last-child {
      margin-right: 0;
    }
  }
}

.button-text-sm {
  @extend .label-text-sm;
  padding: 0.375rem 0.75rem;
  border-radius: 0.375rem;

  &:hover {
    color: var(--on-background);
    background-color: var(--surface);
  }

  &:focus{
    box-shadow: none;
  }

  &:focus-visible, &:active {
    color: var(--on-background);
    background-color: var(--surface-1);
    box-shadow: 0 0 0 2px var(--brand-flat-strong) inset;
    border-color: var(--brand-flat-strong);
  }

  i {
    margin-left: 0.25rem;
    margin-right: 0.25rem;
    font-size: 1rem;
    font-weight: 500;

    &:first-child {
      margin-left: 0;
    }

    &:last-child {
      margin-right: 0;
    }
  }
}

.button-text-lg {
  @extend .label-text-lg;
  padding: 0.375rem 1rem;
  border-radius: 0.5rem;

  &:hover {
    color: var(--on-background);
    background-color: var(--surface);
  }

  &:focus{
    box-shadow: none;
  }

  &:focus-visible, &:active {
    color: var(--on-background);
    background-color: var(--surface-1);
    box-shadow: 0 0 0 2px var(--brand-flat-strong) inset;
    border-color: var(--brand-flat-strong);
  }

  i {
    margin-left: 0.25rem;
    margin-right: 0.25rem;
    font-size: 1.25rem;
    font-weight: 500;

    &:first-child {
      margin-left: 0;
    }

    &:last-child {
      margin-right: 0;
    }
  }
}

.btn {
  @extend .button-text;

  margin: 0 0.25rem;
  
  &:first-child {
    margin-left: 0;
  }

  &:last-child {
    margin-right: 0;
  }

  &:disabled {
    opacity: .6;
  }
  
  @each $key, $value in $color-envs {
    &.btn-#{$key} {
      background-color: var(--#{$value});
      border-color: var(--#{$value});
      color: var(--on-#{$value});
  
      &:hover {
        background-color: var(--#{$value}-strong);
        border-color: var(--#{$value}-strong);
        color: var(--on-#{$value});
      }
  
      &:focus-visible, &:active {
        background-color: var(--#{$value}-strong);
        border-color: var(--#{$value}-strong);
        color: var(--on-#{$value});
        box-shadow: 0 0 0 2px var(--#{$value}-flat-strong) inset !important;
        border-color: var(--#{$value}-flat-strong);
      }

    }
  }
  
  &.btn-secondary {
    background: var(--brand-flat);
    color: var(--on-brand-flat);
    border-color: var(--brand-flat);;

    &:hover {
      color: var(--on-brand-flat);
      background: var(--brand-flat-strong);
      border-color: var(--brand-flat-strong);
    }
  
    &:focus-visible, &:active {
      color: var(--on-brand-flat);
      background: var(--brand-flat-strong);
      box-shadow: 0 0 0 2px var(--surface-5) inset !important;
      border-color: var(--surface-5);
    }
  
    &:disabled {
      opacity: .6;
    }
  }
  
  
  &.btn-tertiary {
    color: var(--on-brand-flat);
    background-color: var(--surface);
    border-color: var(--outline);
  
    &:hover {
      color: var(--on-brand-flat);
      background: var(--surface-1);
      border-color: var(--outline);
    }
  
    &:focus-visible, &:active {
      color: var(--on-brand-flat);
      box-shadow: 0 0 0 2px var(--brand-flat-strong) inset !important;
      background: var(--surface-1);
      border-color: var(--brand-flat-strong);
    }

    &:disabled {
      opacity: .6;
    }
  }
  
  &.btn-less-important {
    background: none;
    color: var(--on-brand-flat);
  
    &:hover {
      background-color: var(--surface-1);
      color: var(--on-brand-flat);
    }
  
    &:focus-visible, &:active {
      background-color: var(--surface-1);
      color: var(--on-brand-flat);
      box-shadow: 0 0 0 2px var(--brand-flat-strong) inset;
      border-color: var(--brand-flat-strong);
    }
  
    &:disabled {
      opacity: .6;
    }
  }
  
  &.btn-sm {
    @extend .button-text-sm;
  }
  
  &.btn-lg {
    @extend .button-text-lg;
  }

  .badge {
    top: 0;
    margin: 0 0.25rem;
    
    &:first-child {
      margin-left: 0;
    }
    &:last-child {
      margin-right: 0;
    }
  }
}

.btn-group {
  .btn {
    margin: 0;
  }
}